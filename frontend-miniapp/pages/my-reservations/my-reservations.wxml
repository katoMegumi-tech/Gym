<view class="container">
  <view class="header">
    <text class="title">æˆ‘çš„é¢„çº¦</text>
  </view>

  <view class="reservation-list">
    <view class="reservation-item" wx:for="{{reservations}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="item-header">
        <text class="reservation-no">{{item.reservationNo}}</text>
        <text class="status {{getStatusClass(item.status)}}">{{getStatusText(item.status)}}</text>
      </view>
      
      <view class="item-body">
        <view class="info-row">
          <text class="label">é¢„çº¦æ—¥æœŸï¼š</text>
          <text class="value">{{item.slotDate}}</text>
        </view>
        <view class="info-row">
          <text class="label">æ—¶é—´æ®µï¼š</text>
          <text class="value">{{item.startTime}} - {{item.endTime}}</text>
        </view>
        <view class="info-row">
          <text class="label">é‡‘é¢ï¼š</text>
          <text class="value price">Â¥{{item.amount}}</text>
        </view>
      </view>

      <view class="item-footer" wx:if="{{item.status === 'PENDING_PAYMENT' || item.status === 'PAID'}}" catchtap="">
        <button wx:if="{{item.status === 'PENDING_PAYMENT'}}" class="pay-btn" catchtap="handlePay" data-id="{{item.id}}">ç«‹å³æ”¯ä»˜</button>
        <button class="cancel-btn" catchtap="cancelReservation" data-id="{{item.id}}">å–æ¶ˆé¢„çº¦</button>
      </view>
    </view>
  </view>

  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view class="no-more" wx:if="{{!hasMore && reservations.length > 0}}">
    <text>æ²¡æœ‰æ›´å¤šäº†</text>
  </view>

  <view class="empty" wx:if="{{!loading && reservations.length === 0}}">
    <text class="empty-icon">ğŸ“…</text>
    <text class="empty-text">æš‚æ— é¢„çº¦è®°å½•</text>
  </view>
</view>
