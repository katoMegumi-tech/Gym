# 体育馆场地预约系统业务流程图（简化版）

## 图3.1 用户预约场地业务流程图

```mermaid
graph TB
    subgraph 用户
        A1([开始])
        A2[浏览场地]
        A3[选择时间段]
        A4[填写预约信息]
        A5[确认订单]
        A6[完成支付]
        A7([结束])
    end
    
    subgraph 小程序
        B1[展示场地列表]
        B2[展示可用时间]
        B3[展示预约表单]
        B4[展示订单确认]
        B5[调用支付接口]
    end
    
    subgraph 后台系统
        C1[查询场地数据]
        C2[查询时间段状态]
        C3[验证预约信息]
        C4[生成预约订单]
        C5[处理支付]
        C6[更新订单状态]
    end
    
    A1 --> A2
    A2 --> B1
    B1 --> C1
    C1 --> A3
    A3 --> B2
    B2 --> C2
    C2 --> A4
    A4 --> B3
    B3 --> C3
    C3 --> A5
    A5 --> B4
    B4 --> C4
    C4 --> A6
    A6 --> B5
    B5 --> C5
    C5 --> C6
    C6 --> A7
```

## 图3.2 场馆管理业务流程图

```mermaid
graph TB
    subgraph 管理员
        A1([开始])
        A2[填写场馆信息]
        A3{管理员审核<br/>场馆信息}
        A4[成为场馆]
        A5([结束])
    end
    
    subgraph 管理后台
        B1[展示场馆表单]
        B2[提交审核]
        B3[审核通过]
        B4[审核未通过]
    end
    
    subgraph 后台系统
        C1[接收场馆信息]
        C2[验证数据完整性]
        C3[保存场馆信息]
        C4[记录操作日志]
    end
    
    A1 --> A2
    A2 --> B1
    B1 --> C1
    C1 --> C2
    C2 --> B2
    B2 --> A3
    A3 -->|是| B3
    A3 -->|否| B4
    B3 --> C3
    C3 --> C4
    C4 --> A4
    B4 --> A2
    A4 --> A5
```

## 图3.3 预约管理业务流程图

```mermaid
graph TB
    subgraph 管理员
        A1([开始])
        A2[查看预约列表]
        A3[选择预约订单]
        A4{选择操作}
        A5[取消预约]
        A6[处理退款]
        A7([结束])
    end
    
    subgraph 管理后台
        B1[展示预约列表]
        B2[展示订单详情]
        B3[确认取消]
        B4[确认退款]
        B5[显示处理结果]
    end
    
    subgraph 后台系统
        C1[查询预约数据]
        C2[查询订单详情]
        C3[更新预约状态]
        C4[释放时间段]
        C5[调用退款接口]
        C6[更新支付状态]
        C7[发送通知]
    end
    
    A1 --> A2
    A2 --> B1
    B1 --> C1
    C1 --> A3
    A3 --> B2
    B2 --> C2
    C2 --> A4
    
    A4 -->|取消| A5
    A5 --> B3
    B3 --> C3
    C3 --> C4
    C4 --> C7
    
    A4 -->|退款| A6
    A6 --> B4
    B4 --> C5
    C5 --> C6
    C6 --> C7
    
    C7 --> B5
    B5 --> A7
```

## 使用说明

### 推荐使用Draw.io绘制

这些简化的流程图更适合手动绘制，建议使用Draw.io：

#### 步骤1：创建泳道
1. 访问 https://app.diagrams.net/
2. 新建空白图
3. 从左侧选择"泳道"形状
4. 拖入画布，创建3个垂直泳道
5. 分别命名为：用户/管理员、小程序/管理后台、后台系统

#### 步骤2：绘制流程
1. **开始/结束节点**：使用圆形（椭圆）
2. **操作步骤**：使用圆角矩形
3. **判断节点**：使用菱形
4. **连接线**：使用箭头连接各节点

#### 步骤3：美化样式
- 用户/管理员泳道：浅蓝色 (#E3F2FD)
- 小程序/管理后台泳道：浅绿色 (#E8F5E9)
- 后台系统泳道：浅黄色 (#FFF9C4)
- 节点：白色填充，深色边框
- 字体：微软雅黑，12号

### 流程图说明

#### 图3.1 用户预约场地业务流程图
**核心流程：**
1. 用户浏览场地 → 小程序展示 → 后台查询数据
2. 用户选择时间 → 小程序展示 → 后台检查状态
3. 用户填写信息 → 小程序展示 → 后台验证
4. 用户确认订单 → 小程序展示 → 后台生成订单
5. 用户完成支付 → 小程序调用 → 后台处理并更新

#### 图3.2 场馆管理业务流程图
**核心流程：**
1. 管理员填写场馆信息 → 管理后台展示表单 → 后台接收数据
2. 提交审核 → 后台验证数据
3. 管理员审核 → 通过则保存，不通过则返回修改
4. 后台记录日志，完成场馆创建

#### 图3.3 预约管理业务流程图
**核心流程：**
1. 管理员查看预约列表 → 管理后台展示 → 后台查询数据
2. 选择预约订单 → 查看详情
3. 选择操作：
   - 取消预约：更新状态 → 释放时间段 → 发送通知
   - 处理退款：调用接口 → 更新状态 → 发送通知

## 简化说明

相比之前的版本，简化了以下内容：
1. 移除了详细的异常处理分支
2. 合并了相似的操作步骤
3. 简化了判断逻辑
4. 保留了核心业务流程
5. 更符合论文中业务流程图的简洁风格

这样的流程图更清晰易懂，适合放在论文中展示核心业务逻辑。